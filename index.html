<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>
    <script src="http://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

    <title>Document</title>
</head>

<body>
    <a-scene physics="driver:ammo">
        <a-assets>
            <a-asset-item id="mesa" src="Mesa.gltf"></a-asset-item>
            <a-asset-item id="mesaP" src="MesaP.gltf"></a-asset-item>
        </a-assets>
        <!--
        <a-camera ammo-body="type:dinamyc" ammo-shape="type:box" position="0 3 0" wasd-controls-enabled="true"
            wasd-controls="acceleration: 20; easing: 2">
            <a-cursor 
                animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
                animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
                animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
                cursor="fuse: true;"
                material="color: yellow; shader: flat"
                position="0 0 -3"
                geometry="primitive: ring">
            </a-cursor>
        </a-camera>
        -->
        <a-entity movement-controls="fly: false" position="0 1 5"
            geometry="primitive: cylinder; height: 1; radius: 0.15"
            material="color: green; wireframe: true"
            id="cam" ammo-body="type: kinematic" ammo-shape="type: cylinder">
            <a-entity camera position="0 1.6 0" look-controls>
                <a-cursor 
                animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 3 3 3"
                animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 3 3 3; to: 0.1 0.1 0.1"
                animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 3 3 3"
                cursor="fuse: true;"
                material="color: yellow; shader: flat"
                position="0 0 -3"
                geometry="primitive: ring">

                </a-cursor>
            </a-entity>    
        </a-entity>
        <a-box ammo-body="type: static" ammo-shape="type: cylinder" color = red; position = "0 3 0"ammo-body="type: dynamic" ammo-shape="type: box"></a-box>
        <a-gltf-model class="mesa" src="#mesaP" position="3.01 0 1.5" rotation="0 180 0" scale="0.05 0.05 0.05.">
        </a-gltf-model>
        <a-entity id="fileira1" position="0 0 4">
            <a-gltf-model class="mesa" src="#mesa" position="0 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="3.01 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="9 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
        </a-entity>
        <a-entity id="fileira2" position="0 0 7">
            <a-gltf-model class="mesa" src="#mesa" position="0 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="3.01 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="9 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            </a-entity>
        <a-entity id="fileira3" position="0 0 10">
                <a-gltf-model class="mesa" src="#mesa" position="0 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model class="mesa" src="#mesa" position="3.01 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model class="mesa" src="#mesa" position="9 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
        </a-entity>
        <a-entity id="fileira4" position="0 0 13">
                <a-gltf-model class="mesa" src="#mesa" position="0 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model class="mesa" src="#mesa" position="3.01 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
                <a-gltf-model class="mesa" src="#mesa" position="9 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
        </a-entity>
        <a-entity id="fileira5" position="0 0 16">
            <a-gltf-model class="mesa" src="#mesa" position="0 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="3.01 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
            <a-gltf-model class="mesa" src="#mesa" position="9 0 0" scale="0.05 0.05 0.05"></a-gltf-model>
        </a-entity>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="5 0 8" color="#aaaaa0" rotation="-90 0 0" width="15" height="24" src="textura.jpeg "
                repeat="5 10 "></a-plane>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="5 7 8" color="#aaaaa0" rotation="90 0 0" width="15" height="24"></a-plane>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="5 7.5 -4" color="#aaaaa0" rotation="0 0 0" width="15" height="15"></a-plane>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="5 7.5 20" color="#aaaaa0" rotation="0 180 0" width="15" height="15"></a-plane>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="10.5 7.5 8" color="#aaaaa0" rotation="0 -90 0" width="24" height="15"></a-plane>
        <a-plane ammo-body="type:static" ammo-shape="type:box" position="-1.5 7.5 8" color="#aaaaa0" rotation="0 90 0" width="24" height="15"></a-plane>
        <a-light id = "l1" type="point" intensity=" 1"; distance= "50" decay="2" position="0 6 5"></a-light>
        <a-plane src = "lampada.png" position="0 4 -3.99"></a-plane>
        <a-sphere id = "down" radius="0.3" color="blue" position="0 3 -4
        "event-set__s2="_event:click;
            _target:#l1;
            intensity:0.2;
            "event-set__s1a="_event:click;
            visible:false;
            "event-set__s1b="_event:click;
            _target:#up;
            visible:true;"
        ></a-sphere>
        <a-sphere visible = "false" id = "up" radius="0.3" color="blue" position="0 2 -4
            "event-set__s4="_event:click;
            _target:#l1;
            intensity:0.75;
            "event-set__s3a="_event:click;
            visible:false;
            "event-set__s3b="_event:click;
            _target:#down;
            visible:true;
            "
        ></a-sphere>
    </a-scene>
</body>

</html>